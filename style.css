:root{
  --ink:#141418;
  --pink:#ff4d6d;
  --pink2:#ff7a9a;
  --shadow: 0 18px 55px rgba(0,0,0,.14);
  --radius: 24px;

  --bgTop:#fff0f5;
  --bgBottom:#ffffff;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:"Cairo", system-ui, -apple-system, Segoe UI, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color:var(--ink);
  overflow:hidden;
}

.page{
  background:
    radial-gradient(1100px 750px at 20% 10%, rgba(255,77,109,.18), transparent 55%),
    radial-gradient(900px 700px at 85% 15%, rgba(255,122,154,.14), transparent 60%),
    linear-gradient(180deg, var(--bgTop), var(--bgBottom));
  transition: background .25s ease;
}

.page--yes{
  background:
    radial-gradient(1100px 750px at 20% 10%, rgba(255,77,109,.14), transparent 55%),
    radial-gradient(900px 700px at 85% 15%, rgba(255,122,154,.18), transparent 60%),
    linear-gradient(180deg, #ffe6ea, #fff);
}

.center{
  height:100%;
  display:grid;
  place-items:center;
  padding: 24px 14px;
  position: relative;
  z-index: 5;
}

.card{
  width:min(460px, 92vw);
  border-radius: var(--radius);
  background: rgba(255,255,255,.90);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.55);
  padding: 22px 20px 18px;
  position:relative;
  overflow:hidden;
}

.card__glow{
  position:absolute; inset:-2px;
  background: radial-gradient(800px 420px at 50% -12%, rgba(255,77,109,.20), transparent 60%);
  pointer-events:none;
}

.media{display:grid; place-items:center; margin: 4px 0 10px;}
.media__img{
  width: 175px;
  height:auto;
  border-radius: 18px;
  box-shadow: 0 12px 30px rgba(0,0,0,.10);
  border: 1px solid rgba(0,0,0,.06);
}

.title{margin:8px 0 2px; font-size:24px; line-height:1.35; font-weight:800;}
.subtitle{margin:6px 0 12px; font-size:16px; font-weight:700; color: rgba(20,20,24,.84);}
.hint{margin:6px 0 10px; font-size:15px; font-weight:700; color: rgba(20,20,24,.72); min-height:26px;}
.spark{display:inline-block; transform: translateY(1px);}
img.emoji{height:1.15em;width:1.15em;vertical-align:-0.2em;}

.buttons{
  position:relative;
  height:66px;
  margin-top:10px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
  padding: 0 6px;
}

.btn{
  border:0;
  border-radius:999px;
  padding:11px 20px;
  font-weight:800;
  font-size:16px;
  cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease;
  user-select:none;
  white-space:nowrap;
}
.btn:active{transform: translateY(1px) scale(.99)}

.btn--yes{
  background: linear-gradient(135deg, var(--pink), var(--pink2));
  color:#fff;
  box-shadow: 0 12px 22px rgba(255,77,109,.28);
}

.btn--no{
  background: rgba(0,0,0,.10);
  color: var(--ink);
  position:absolute;
  left: 10px;
  top: 6px;
}

.row{display:flex; justify-content:center;}

/* =======================
   FULL-BODY BEARS PEEKING
   ======================= */
.peekers{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

/* صندوق الدب */
.peeker{
  position:absolute;
  width: 300px;
  height: 245px;
  overflow:hidden;
  border-radius: 30px;
  filter: drop-shadow(0 18px 30px rgba(0,0,0,.18));
  opacity: .98;
  transform-origin:center;
}

/* الدب داخل الصندوق */
.bear{
  position:absolute;
  width: 145%;
  height: 145%;
  left: 50%;
  top: 63%;
  transform: translate(-50%,-50%);
}

.peeker--a .bear{
  transform: translate(-58%,-54%) rotate(-10deg) scale(1.03);
}
.peeker--b .bear{
  transform: translate(-42%,-50%) rotate(10deg) scale(1.03);
}

/* الزوايا */
.peeker--tl{ top:-36px; left:-36px; }
.peeker--tr{ top:-36px; right:-36px; }
.peeker--bl{ bottom:-36px; left:-36px; }
.peeker--br{ bottom:-36px; right:-36px; }

.peeker--tl.peeker--b{ left: 172px; top:-36px; }
.peeker--tr.peeker--b{ right:172px; top:-36px; }
.peeker--bl.peeker--b{ left: 172px; bottom:-36px; }
.peeker--br.peeker--b{ right:172px; bottom:-36px; }

/* الحواف */
.peeker--left{
  left:-85px;
  top:50%;
  transform:translateY(-50%);
  --ty:-50%;
}
.peeker--right{
  right:-85px;
  top:50%;
  transform:translateY(-50%);
  --ty:-50%;
}

.peeker--top{
  top:-92px;
  left:50%;
  transform:translateX(-50%);
  --tx:-50%;
}
.peeker--bottom{
  bottom:-92px;
  left:50%;
  transform:translateX(-50%);
  --tx:-50%;
}

.peeker--left .bear{ left: 54%; top: 62%; }
.peeker--right .bear{ left: 46%; top: 62%; }
.peeker--top .bear{ top: 70%; }
.peeker--bottom .bear{ top: 56%; }

/* اهتزاز */
.peeker.shake{ animation: peekShake .32s linear 1; }
@keyframes peekShake{
  0%{ transform: translate(var(--tx,0), var(--ty,0)); }
  25%{ transform: translate(var(--tx,0), var(--ty,0)) translateX(10px) rotate(1deg); }
  50%{ transform: translate(var(--tx,0), var(--ty,0)) translateX(-10px) rotate(-1deg); }
  75%{ transform: translate(var(--tx,0), var(--ty,0)) translateX(10px) rotate(1deg); }
  100%{ transform: translate(var(--tx,0), var(--ty,0)); }
}

/* رقص صفحة YES */
.peeker.dance{ animation: dance 1.05s ease-in-out infinite; }
@keyframes dance{
  0%,100%{ transform: translate(var(--tx,0), var(--ty,0)) translateY(0) rotate(0deg) }
  25%{ transform: translate(var(--tx,0), var(--ty,0)) translateY(-10px) rotate(-2deg) }
  50%{ transform: translate(var(--tx,0), var(--ty,0)) translateY(0) rotate(2deg) }
  75%{ transform: translate(var(--tx,0), var(--ty,0)) translateY(-8px) rotate(-1deg) }
}

/* فقاعات الكلام */
.bubble{
  position:absolute;
  left: 52%;
  top: 60%;
  transform: translate(-50%,-50%);
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(0,0,0,.08);
  color: rgba(20,20,24,.92);
  padding: 10px 12px;
  border-radius: 16px;
  font-weight: 800;
  font-size: 13px;
  white-space: nowrap;
  box-shadow: 0 14px 30px rgba(0,0,0,.16);
  opacity: 0;
  animation: bubbleUp 3.2s ease-out forwards;
}
.bubble::after{
  content:"";
  position:absolute;
  bottom:-6px;
  left: 50%;
  width: 12px; height: 12px;
  background: rgba(255,255,255,.92);
  border-left: 1px solid rgba(0,0,0,.08);
  border-bottom: 1px solid rgba(0,0,0,.08);
  transform: translateX(-50%) rotate(45deg);
}
@keyframes bubbleUp{
  0%{ opacity:0; transform: translate(-50%,-35%) scale(.97) }
  15%{ opacity:1 }
  85%{ opacity:1; transform: translate(-50%,-112%) scale(1.02) }
  100%{ opacity:0; transform: translate(-50%,-138%) scale(1.03) }
}

/* قلوب صفحة YES */
.heart{
  position: fixed;
  bottom: -24px;
  left: var(--lx);
  font-size: var(--fs);
  opacity: .96;
  animation: floatUp var(--dur) linear forwards;
  pointer-events:none;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.14));
}
@keyframes floatUp{
  0%{ transform: translateY(0) rotate(0deg); opacity:0 }
  10%{ opacity:1 }
  100%{ transform: translateY(-115vh) rotate(18deg); opacity:0 }
}

/* دبكة YES */
.dabke-wrap{
  margin-top: 16px;
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap: 18px;
  pointer-events:none;
}
.dabke-bear{
  width: 90px;
  height: 120px;
  animation: dabke 0.9s ease-in-out infinite;
}
.dabke-bear:nth-child(1){ animation-delay: 0s; }
.dabke-bear:nth-child(2){ animation-delay: .12s; }
.dabke-bear:nth-child(3){ animation-delay: .24s; }
.dabke-bear:nth-child(4){ animation-delay: .12s; }
.dabke-bear:nth-child(5){ animation-delay: 0s; }

@keyframes dabke{
  0%   { transform: translateY(0) translateX(0) rotate(0deg); }
  25%  { transform: translateY(-8px) translateX(6px) rotate(2deg); }
  50%  { transform: translateY(0) translateX(0) rotate(0deg); }
  75%  { transform: translateY(-8px) translateX(-6px) rotate(-2deg); }
  100% { transform: translateY(0) translateX(0) rotate(0deg); }
}

/* ✅ MOBILE / TOUCH: keep ALL bears, but scale down (no overlap) */
@media (max-width: 900px), (pointer: coarse){
  .media__img{ width: 155px; }
  .title{ font-size: 21px; }
  .hint{ font-size: 14px; }
  .bubble{ font-size: 12px; }

  /* الأهم: صغّر طبقة الدباديب كلها */
  .peekers{
    transform: scale(.72);
    transform-origin: center;
  }

  /* صغّر كمان صناديق الدبكة تحت */
  .dabke-bear{ width: 76px; height: 104px; }
}
